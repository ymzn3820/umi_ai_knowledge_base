<view id="chat" class="data-v-57280228"><scroll-view class="u-page data-v-57280228 vue-ref" style="{{'height:'+(msgListHeight)+';'}}" scroll-with-animation="{{true}}" scroll-y="true" id="textadd" data-ref="box"><view class="data-v-57280228"><view class="headCard data-v-57280228"><view class="head_chat data-v-57280228" style="{{(backImg)}}"><view class="head data-v-57280228"><image class="head_img data-v-57280228" src="{{log}}"></image><view class="head_content data-v-57280228">Hi，我是您的专属无忧秘书-小秘</view></view><view class="head_tip data-v-57280228">基于先进的AI语言大模型，为您提供全方位的支持与服务</view><view style="display:flex;margin-top:8rpx;align-items:center;" class="data-v-57280228"><view class="head_price data-v-57280228">(免费)</view><view data-event-opts="{{[['tap',[['goShare',['$event']]]]]}}" style="display:flex;margin-left:32rpx;align-items:center;" bindtap="__e" class="data-v-57280228"><image style="width:28rpx;height:28rpx;" src="{{share}}" class="data-v-57280228"></image><view style="color:#1F64FF;font-size:24rpx;margin-left:5rpx;font-weight:600;" class="data-v-57280228">分享好友赚算力</view></view></view></view></view><block wx:if="{{$root.g0>0}}"><view class="notice data-v-57280228"><u-notice-bar vue-id="8dd740cc-1" text="{{noticeList}}" color="#1E211F" bgColor="#EBF1FF" mode="closable" direction="column" data-event-opts="{{[['^click',[['toNotice']]]]}}" bind:click="__e" class="data-v-57280228" bind:__l="__l"></u-notice-bar></view></block><block wx:if="{{isQs}}"><view class="headCard data-v-57280228" style="margin-top:20rpx;margin-bottom:50rpx;padding:20rpx;width:100%;"><view class="head_title data-v-57280228"><view class="title_l data-v-57280228">您可以这样问</view><view data-event-opts="{{[['tap',[['getQuestionRecommend',['$event']]]]]}}" class="title_r data-v-57280228" bindtap="__e"><image class="r_img data-v-57280228" src="/static/images/change.png" mode></image><text class="r_text data-v-57280228">换一批</text></view></view><block wx:for="{{billList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block wx:if="{{index>1}}"><view data-event-opts="{{[['tap',[['toAsk',['$0'],[[['billList','',index,'content']]]]]]]}}" class="grid_items data-v-57280228" bindtap="__e"><text class="item_li data-v-57280228">{{item.content}}</text><u-icon vue-id="{{'8dd740cc-2-'+index}}" name="arrow-right" color="#424242" size="12" class="data-v-57280228" bind:__l="__l"></u-icon></view></block></block></view></block><block wx:if="{{isQs}}"><view class="head_grid_two data-v-57280228"><view class="title data-v-57280228"><view class="title_l data-v-57280228">体验更多能力</view><view data-event-opts="{{[['tap',[['getAbility',['$event']]]]]}}" class="title_r data-v-57280228" bindtap="__e"><image src="/static/images/change.png" class="data-v-57280228"></image><text class="r_txt data-v-57280228">换一换</text></view></view><block wx:for="{{abilityList}}" wx:for-item="item" wx:for-index="index"><view data-event-opts="{{[['tap',[['toAbility',['$0'],[[['abilityList','',index,'num']]]]]]]}}" class="grid_item_two data-v-57280228" bindtap="__e"><text class="item_li_two data-v-57280228">{{item.content}}</text><u-icon vue-id="{{'8dd740cc-3-'+index}}" name="arrow-right" color="#424242" size="12" class="data-v-57280228" bind:__l="__l"></u-icon></view></block></view></block></view><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="listItem data-v-57280228" scroll-with-animation="{{true}}" anchor="{{index}}"><u-row vue-id="{{'8dd740cc-4-'+index}}" align="top" gutter="5" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}"><u-col vue-id="{{('8dd740cc-5-'+index)+','+('8dd740cc-4-'+index)}}" span="1.5" textAlign="center" align="top" justify="top" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}"><image style="height:38px;width:38px;border-radius:50%;" src="{{item.$orig.type=='assistant'?log:avatar}}" class="data-v-57280228"></image></u-col><u-col vue-id="{{('8dd740cc-6-'+index)+','+('8dd740cc-4-'+index)}}" soan="9" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{item.$orig.type=='assistant'}}"><view class="data-v-57280228"><block wx:if="{{index===0}}"><view class="tips data-v-57280228"><rich-text nodes="{{item.$orig.talk}}"></rich-text></view></block><block wx:else><view class="data-v-57280228"><block wx:if="{{item.g1!=-1}}"><label class="loadingTalk _span data-v-57280228"><view class="flexs data-v-57280228"><image class="loadingImages data-v-57280228" src="{{waitImg}}" mode></image><text style="vertical-align:top;word-break:break-all;" class="data-v-57280228">{{item.$orig.talk}}</text></view><block wx:if="{{index===item.g2-1}}"><u-col vue-id="{{('8dd740cc-7-'+index)+','+('8dd740cc-6-'+index)}}" span="4" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}"><u-button vue-id="{{('8dd740cc-8-'+index)+','+('8dd740cc-7-'+index)}}" type="primary" customStyle="{{item.a0}}" size="mini" color="rgba(31, 100, 255, 0.1)" data-event-opts="{{[['^click',[['stopStart']]]]}}" bind:click="__e" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}"><image style="width:40rpx;height:40rpx;margin-right:16rpx;" src="../../static/images/Remove_duotone.png" class="data-v-57280228"></image>停止回答</u-button></u-col></block></label></block><block wx:else><block wx:if="{{item.$orig.code==40022}}"><view class="tips data-v-57280228"><text style="font-size:17px;word-break:break-all;" class="data-v-57280228">{{item.$orig.talk}}</text><view style="display:flex;justify-content:space-around;" class="data-v-57280228"><u-button vue-id="{{('8dd740cc-9-'+index)+','+('8dd740cc-6-'+index)}}" type="error" color="#1F64FF" customStyle="{{item.a1}}" data-event-opts="{{[['^click',[['goToVip']]]]}}" bind:click="__e" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}">购买算力包</u-button></view></view></block><block wx:else><block wx:if="{{item.$orig.code==40021}}"><view class="tips data-v-57280228"><text style="font-size:17px;word-break:break-all;" class="data-v-57280228">{{item.$orig.talk}}</text></view></block><block wx:else><view class="data-v-57280228"><view class="tips data-v-57280228"><ua-markdown vue-id="{{('8dd740cc-10-'+index)+','+('8dd740cc-6-'+index)}}" source="{{item.$orig.talk}}" showLine="{{false}}" class="data-v-57280228" bind:__l="__l"></ua-markdown><u-row class="edit data-v-57280228" vue-id="{{('8dd740cc-11-'+index)+','+('8dd740cc-6-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}"><u-col style="font-size:14px;" vue-id="{{('8dd740cc-12-'+index)+','+('8dd740cc-11-'+index)}}" span="6" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}">{{'字数:'+item.$orig.textNumber+''}}</u-col><block wx:if="{{item.$orig.loading}}"><u-col style="font-size:14px;" vue-id="{{('8dd740cc-13-'+index)+','+('8dd740cc-11-'+index)}}" span="6" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}">{{'消耗:'+item.$orig.integral+'算力'}}</u-col></block></u-row><block wx:if="{{item.$orig.loading}}"><u-row class="edit data-v-57280228" vue-id="{{('8dd740cc-14-'+index)+','+('8dd740cc-6-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}"><u-col style="font-size:14px;" vue-id="{{('8dd740cc-15-'+index)+','+('8dd740cc-14-'+index)}}" span="6" align="left" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}">{{'上行:'+item.$orig.prompt_tokens+' token'}}</u-col><u-col style="font-size:14px;" vue-id="{{('8dd740cc-16-'+index)+','+('8dd740cc-14-'+index)}}" span="6" align="left" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}">{{'下行:'+item.$orig.completion_tokens+' token'}}</u-col></u-row></block><u-row class="edit data-v-57280228" vue-id="{{('8dd740cc-17-'+index)+','+('8dd740cc-6-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{item.$orig.history}}"><u-col vue-id="{{('8dd740cc-18-'+index)+','+('8dd740cc-17-'+index)}}" span="7.5" class="data-v-57280228" bind:__l="__l"></u-col></block><block wx:if="{{!item.$orig.history}}"><u-col vue-id="{{('8dd740cc-19-'+index)+','+('8dd740cc-17-'+index)}}" span="1" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}"><view class="data-v-57280228"><block wx:if="{{item.$orig.loading}}"><image style="vertical-align:top;" src="../../static/images/time.png" mode width="16px" height="16px" class="data-v-57280228"></image></block><block wx:else><image class="loadingImages data-v-57280228" src="{{waitImg}}" mode width="16px" height="16px"></image></block></view></u-col></block><block wx:if="{{!item.$orig.history}}"><u-col style="font-size:14px;" vue-id="{{('8dd740cc-20-'+index)+','+('8dd740cc-17-'+index)}}" span="6.5" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}"><view class="data-v-57280228"><block wx:if="{{item.$orig.loading}}"><text class="data-v-57280228">{{'耗时：'+item.$orig.time+"秒"}}</text></block><block wx:else><text class="data-v-57280228">{{'思考中:'+item.$orig.time+"秒"}}</text></block></view></u-col></block><u-col vue-id="{{('8dd740cc-21-'+index)+','+('8dd740cc-17-'+index)}}" span="1.5" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{item.$orig.is_like==0||item.$orig.is_like==2}}"><view data-event-opts="{{[['tap',[['likeType',[1,index]]]]]}}" bindtap="__e" class="data-v-57280228"><u-icon vue-id="{{('8dd740cc-22-'+index)+','+('8dd740cc-21-'+index)}}" name="thumb-up" color="#999" size="24" class="data-v-57280228" bind:__l="__l"></u-icon></view></block><block wx:if="{{item.$orig.is_like==1}}"><view data-event-opts="{{[['tap',[['likeType',[0,index]]]]]}}" bindtap="__e" class="data-v-57280228"><u-icon vue-id="{{('8dd740cc-23-'+index)+','+('8dd740cc-21-'+index)}}" name="thumb-up-fill" color="#1f64ff" size="24" class="data-v-57280228" bind:__l="__l"></u-icon></view></block></u-col><u-col vue-id="{{('8dd740cc-24-'+index)+','+('8dd740cc-17-'+index)}}" span="2" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{item.$orig.is_like==0||item.$orig.is_like==1}}"><view data-event-opts="{{[['tap',[['likeType',[2,index]]]]]}}" bindtap="__e" class="data-v-57280228"><u-icon vue-id="{{('8dd740cc-25-'+index)+','+('8dd740cc-24-'+index)}}" name="thumb-down" color="#999" size="24" class="data-v-57280228" bind:__l="__l"></u-icon></view></block><block wx:if="{{item.$orig.is_like==2}}"><view data-event-opts="{{[['tap',[['likeType',[0,index]]]]]}}" bindtap="__e" class="data-v-57280228"><u-icon vue-id="{{('8dd740cc-26-'+index)+','+('8dd740cc-24-'+index)}}" name="thumb-down-fill" color="#1f64ff" size="24" class="data-v-57280228" bind:__l="__l"></u-icon></view></block></u-col><u-col vue-id="{{('8dd740cc-27-'+index)+','+('8dd740cc-17-'+index)}}" span="1" data-event-opts="{{[['^click',[['copyFun',['$0'],[[['messageList','',index,'talk']]]]]]]}}" bind:click="__e" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}"><image src="../../static/images/balckCopy.png" mode class="data-v-57280228"></image></u-col></u-row><view class="btn_tab data-v-57280228"><text class="tab_left data-v-57280228">当前内容为AI生成，不做任何决策使用！由此引发的一切后果，需自行承担，请知悉,已通过阿里云内容安全审核</text></view></view><u-row style="flex-wrap:wrap;width:100%;" vue-id="{{('8dd740cc-28-'+index)+','+('8dd740cc-6-'+index)}}" gutter="20" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{item.$orig.status=='length'}}"><u-col vue-id="{{('8dd740cc-29-'+index)+','+('8dd740cc-28-'+index)}}" span="3" textAlign="left" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}"><u-button vue-id="{{('8dd740cc-30-'+index)+','+('8dd740cc-29-'+index)}}" type="primary" customStyle="{{item.a2}}" size="mini" color="rgba(31, 100, 255, 0.1)" data-event-opts="{{[['^click',[['continueFun']]]]}}" bind:click="__e" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}">继续</u-button></u-col></block><block wx:if="{{item.g3}}"><u-col vue-id="{{('8dd740cc-31-'+index)+','+('8dd740cc-28-'+index)}}" span="3" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}"><u-button vue-id="{{('8dd740cc-32-'+index)+','+('8dd740cc-31-'+index)}}" type="primary" customStyle="{{item.a3}}" size="mini" color="rgba(31, 100, 255, 0.1)" data-event-opts="{{[['^click',[['e0']]]]}}" bind:click="__e" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}">优化回答</u-button></u-col></block><block wx:if="{{item.g4}}"><u-col vue-id="{{('8dd740cc-33-'+index)+','+('8dd740cc-28-'+index)}}" span="4" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}"><u-button vue-id="{{('8dd740cc-34-'+index)+','+('8dd740cc-33-'+index)}}" type="primary" customStyle="{{item.a4}}" size="mini" color="rgba(31, 100, 255, 0.1)" data-event-opts="{{[['^click',[['endController']]]]}}" bind:click="__e" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}">停止回答</u-button></u-col></block><block wx:if="{{item.g5}}"><u-col vue-id="{{('8dd740cc-35-'+index)+','+('8dd740cc-28-'+index)}}" span="3" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}"><u-button vue-id="{{('8dd740cc-36-'+index)+','+('8dd740cc-35-'+index)}}" type="primary" customStyle="{{item.a5}}" size="mini" color="rgba(31, 100, 255, 0.1)" data-event-opts="{{[['^click',[['toIdea']]]]}}" bind:click="__e" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}">意见反馈</u-button></u-col></block></u-row></view></block></block></block></view></block></view></block><block wx:else><view class="data-v-57280228"><view class="talk data-v-57280228" style="background:#1F64FF;color:#fff;"><view style="word-break:break-all;" class="data-v-57280228">{{''+item.$orig.talk+''}}</view><block wx:if="{{item.g6>0}}"><view class="data-v-57280228"><image style="height:500rpx;width:500rpx;" src="{{item.m0}}" mode="aspectFit" data-event-opts="{{[['tap',[['checkImg',['$0'],[[['messageList','',index,'images.__$n0']]]]]]]}}" bindtap="__e" class="data-v-57280228"></image></view></block><image src="/static/images/copy.png" mode data-event-opts="{{[['tap',[['copyFun',['$0'],[[['messageList','',index,'talk']]]]]]]}}" bindtap="__e" class="data-v-57280228"></image></view></view></block></u-col></u-row></view></block></scroll-view><view class="bottomInput data-v-57280228" style="{{'bottom:'+(botHeight+'px')+';'}}"><view class="btn_link data-v-57280228"><view class="link_l data-v-57280228"><block wx:if="{{$root.g7}}"><view data-event-opts="{{[['tap',[['newChatSpeak',['$event']]]]]}}" class="l_chat data-v-57280228" style="margin-right:15rpx;background:#1f64ff;color:#fff;" bindtap="__e"><u-icon vue-id="8dd740cc-37" name="plus" color="#fff" size="14" class="data-v-57280228" bind:__l="__l"></u-icon><text class="l_text data-v-57280228">新会话</text></view></block><view data-event-opts="{{[['tap',[['toHistory',['$event']]]]]}}" class="l_chat data-v-57280228" bindtap="__e"><u-icon vue-id="8dd740cc-38" name="clock" color="#1F64FF" size="16" class="data-v-57280228" bind:__l="__l"></u-icon><text class="l_text data-v-57280228">历史会话</text></view></view><view class="link_l data-v-57280228"><view data-event-opts="{{[['tap',[['takePhoto',['$event']]]]]}}" class="l_chat data-v-57280228" bindtap="__e"><u-icon vue-id="8dd740cc-39" name="camera" color="#1F64FF" size="20" class="data-v-57280228" bind:__l="__l"></u-icon><text class="l_text data-v-57280228">看图说话</text></view></view></view><u-row vue-id="8dd740cc-40" align="bottom" gutter="5" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}"><u-col vue-id="{{('8dd740cc-41')+','+('8dd740cc-40')}}" span="9.5" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}"><view class="chat_input data-v-57280228"><u-textarea vue-id="{{('8dd740cc-42')+','+('8dd740cc-41')}}" placeholder="在此输入您想了解的内容" autoHeight="{{true}}" showConfirmBar="{{false}}" adjustPosition="{{false}}" maxlength="-1" disableDefaultPadding="{{true}}" border="none" focus="{{false}}" value="{{chatInputValue}}" data-event-opts="{{[['^confirm',[['sendMessage']]],['^keyboardheightchange',[['keyboardheightchange']]],['^input',[['__set_model',['','chatInputValue','$event',[]]]]]]}}" bind:confirm="__e" bind:keyboardheightchange="__e" bind:input="__e" class="data-v-57280228" bind:__l="__l"></u-textarea><block wx:if="{{$root.g8>0}}"><view class="data-v-57280228"><block wx:for="{{$root.l1}}" wx:for-item="val" wx:for-index="index" wx:key="index"><view class="input_right data-v-57280228"><image class="inputImg data-v-57280228" src="{{val.m1}}"></image><text class="input_text data-v-57280228"></text><u-icon vue-id="{{('8dd740cc-43-'+index)+','+('8dd740cc-41')}}" name="close" size="18" data-event-opts="{{[['^click',[['e1']]]]}}" data-event-params="{{({index})}}" bind:click="__e" class="data-v-57280228" bind:__l="__l"></u-icon></view></block></view></block></view></u-col><u-col vue-id="{{('8dd740cc-44')+','+('8dd740cc-40')}}" span="2.5" align="bottom" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}"><u-button vue-id="{{('8dd740cc-45')+','+('8dd740cc-44')}}" type="primary" color="#1F64FF" data-event-opts="{{[['^click',[['sendMessage']]]]}}" bind:click="__e" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}">发送</u-button></u-col></u-row></view><u-modal vue-id="8dd740cc-46" show="{{show}}" confirmText="确定" confirmColor="#1F64FF" showCancelButton="{{true}}" data-event-opts="{{[['^cancel',[['e2']]],['^confirm',[['showFun']]]]}}" bind:cancel="__e" bind:confirm="__e" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}"><view class="modal data-v-57280228"><view class="edit data-v-57280228"><view class="changes data-v-57280228"></view>优化本次回答</view><view class="content data-v-57280228"><u--textarea bind:input="__e" vue-id="{{('8dd740cc-47')+','+('8dd740cc-46')}}" placeholder="在此输入你想优化的内容" border="none" height="110px" value="{{complete}}" data-event-opts="{{[['^input',[['__set_model',['','complete','$event',[]]]]]]}}" class="data-v-57280228" bind:__l="__l"></u--textarea></view></view></u-modal><u-popup vue-id="8dd740cc-48" show="{{transitionShow}}" mode="bottom" round="{{10}}" closeOnClickOverlay="{{false}}" data-event-opts="{{[['^close',[['e3']]]]}}" bind:close="__e" class="data-v-57280228" bind:__l="__l" vue-slots="{{['default']}}"><view class="pop_cont data-v-57280228"><view class="cont_top data-v-57280228"><view class="top_l data-v-57280228">是否关联上下文</view></view><view data-event-opts="{{[['tap',[['radioChange',[false]]]]]}}" class="cont_mid data-v-57280228" bindtap="__e"><view class="mid_l data-v-57280228">是</view></view><view data-event-opts="{{[['tap',[['radioChange',[true]]]]]}}" class="cont_mid data-v-57280228" bindtap="__e"><view class="mid_l data-v-57280228">否</view></view></view></u-popup><block wx:if="{{showServer}}"><view class="serverImg data-v-57280228"><image class="serverClose data-v-57280228" src="{{serverClose}}" data-event-opts="{{[['tap',[['e4',['$event']]]]]}}" catchtap="__e"></image><image class="serverIcon data-v-57280228" src="{{serverIcon}}" data-event-opts="{{[['tap',[['toServer',['$event']]]]]}}" bindtap="__e"></image></view></block></view>